
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../zip-modules/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Python Scripts - NSClient++</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-scripts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="NSClient++" class="md-header__button md-logo" aria-label="NSClient++" data-md-component="logo">
      
  <img src="../../../assets/nsclient-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NSClient++
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python Scripts
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/mickem/nscp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    NSClient++
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../news/" class="md-tabs__link">
        
  
  
    
  
  News

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/mickem/nscp/releases" class="md-tabs__link">
        
  
  
    
  
  Download

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/mickem/nscp/discussions" class="md-tabs__link">
        
  
  
    
  
  Forums

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="NSClient++" class="md-nav__button md-logo" aria-label="NSClient++" data-md-component="logo">
      
  <img src="../../../assets/nsclient-logo.png" alt="logo">

    </a>
    NSClient++
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mickem/nscp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    NSClient++
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../nsclient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About NSClient++
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../news/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    News
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/mickem/nscp/releases" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../theory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Theory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checking Things
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing NSClient++
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WEB UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Securing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_11" >
        
          
          <label class="md-nav__link" for="__nav_4_11" id="__nav_4_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Howto
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_11">
            <span class="md-nav__icon md-icon"></span>
            Howto
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checking things
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/counters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Counters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/external_scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External scripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/run_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/nrpe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NRPE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/nsca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NSCA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/03x_migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate from 0.3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_12" id="__nav_4_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12_2" >
        
          
          <label class="md-nav__link" for="__nav_4_12_2" id="__nav_4_12_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Check commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12_2">
            <span class="md-nav__icon md-icon"></span>
            Check commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/windows/CheckDisk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckDisk (Windows)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/check/CheckExternalScripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckExternalScripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/windows/CheckEventLog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckEventLog (Windows)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/check/CheckHelpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckHelpers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/check/CheckLogFile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckLogFile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/check/CheckMKClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckMKClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/check/CheckMKServer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckMKServer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/misc/CheckNet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckNet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/check/CheckNSCP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckNSCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/unix/CheckSystemUnix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckSystemUnix (unix)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/windows/CheckSystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckSystem (Windows)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/windows/CheckTaskSched/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckTaskSched (Windows)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/windows/CheckWMI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CheckWMI (Windows)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12_3" >
        
          
          <label class="md-nav__link" for="__nav_4_12_3" id="__nav_4_12_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Clients & Servers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12_3">
            <span class="md-nav__icon md-icon"></span>
            Clients & Servers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/WEBServer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WEBServer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/misc/WEBClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WEBClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/NRPEServer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NRPEServer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/NRPEClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NRPEClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/windows/NSClientServer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NSClientServer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/NSCAServer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NSCAServer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/NSCAClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NSCAClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/NRDPClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NRDPClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/SMTPClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SMTPClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/GraphiteClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GraphiteClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/SyslogClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SyslogClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/misc/CollectdClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CollectdClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/misc/Op5Client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Op5Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/misc/ElasticClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ElasticClient
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12_4" >
        
          
          <label class="md-nav__link" for="__nav_4_12_4" id="__nav_4_12_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Helper modules
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12_4">
            <span class="md-nav__icon md-icon"></span>
            Helper modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/Scheduler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scheduler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/SimpleFileWriter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SimpleFileWriter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/CommandClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CommandClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/SimpleCache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SimpleCache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/PythonScript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PythonScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generic/LUAScript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LUAScript
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_13" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Extending
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_13" id="__nav_4_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_13">
            <span class="md-nav__icon md-icon"></span>
            Extending
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Python Scripts
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Python Scripts
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#__main__" class="md-nav__link">
    <span class="md-ellipsis">
      __main__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#init" class="md-nav__link">
    <span class="md-ellipsis">
      init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plugin_alias-versus-script_alias" class="md-nav__link">
    <span class="md-ellipsis">
      plugin_alias versus script_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shutdown" class="md-nav__link">
    <span class="md-ellipsis">
      shutdown
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functions_1" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log" class="md-nav__link">
    <span class="md-ellipsis">
      log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log_error" class="md-nav__link">
    <span class="md-ellipsis">
      log_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log_debug" class="md-nav__link">
    <span class="md-ellipsis">
      log_debug
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sleep" class="md-nav__link">
    <span class="md-ellipsis">
      sleep
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registry" class="md-nav__link">
    <span class="md-ellipsis">
      Registry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registryfunction" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registrysimple_function" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.simple_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registrycmdline" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.cmdline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registrysimple_cmdline" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.simple_cmdline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registrysubscription" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.subscription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registrysimple_subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.simple_subscription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registrysubmit_metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.submit_metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registryfetch_metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.fetch_metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registryevent_pb" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.event_pb
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registryevent" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registryquery" class="md-nav__link">
    <span class="md-ellipsis">
      Registry.query
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core" class="md-nav__link">
    <span class="md-ellipsis">
      Core
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coreget" class="md-nav__link">
    <span class="md-ellipsis">
      Core.get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coresimple_query" class="md-nav__link">
    <span class="md-ellipsis">
      Core.simple_query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#corequery" class="md-nav__link">
    <span class="md-ellipsis">
      Core.query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coresimple_exec" class="md-nav__link">
    <span class="md-ellipsis">
      Core.simple_exec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coreexec" class="md-nav__link">
    <span class="md-ellipsis">
      Core.exec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coresimple_submit" class="md-nav__link">
    <span class="md-ellipsis">
      Core.simple_submit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coresubmit" class="md-nav__link">
    <span class="md-ellipsis">
      Core.submit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#corereload" class="md-nav__link">
    <span class="md-ellipsis">
      Core.reload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coreload_module" class="md-nav__link">
    <span class="md-ellipsis">
      Core.load_module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coreunload_module" class="md-nav__link">
    <span class="md-ellipsis">
      Core.unload_module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coreexpand_path" class="md-nav__link">
    <span class="md-ellipsis">
      Core.expand_path
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    <span class="md-ellipsis">
      Settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settingsget" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsget_section" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.get_section
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsget_string" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.get_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsset_string" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.set_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsget_bool" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.get_bool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsset_bool" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.set_bool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsget_int" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.get_int
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsset_int" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.set_int
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingssave" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsregister_path" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.register_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsregister_key" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.register_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settingsquery" class="md-nav__link">
    <span class="md-ellipsis">
      Settings.query
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zip-modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zip Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_14" id="__nav_4_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_14">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_14_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/rest/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    REST
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_14_1" id="__nav_4_14_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_14_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_14_1">
            <span class="md-nav__icon md-icon"></span>
            REST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/legacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Legacy API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugin API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/mickem/nscp/discussions" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forums
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="python-scripts">Python Scripts</h1>
<p>In addition to executing Python script as regular script NSClient++ can also execute them via the PythonScript module inside NSClient++.
The benefit of this is that you can call APIs of NSClient++ as well as maintain state.</p>
<p>To add a python script as an internal script you need to load the PythonScript module as well as configure it to run your script:</p>
<p>There is a command line interface to do this:</p>
<div class="highlight"><pre><span></span><code>nscp py add --script my_script.py
</code></pre></div>
<p>This will create the following configuration for you:</p>
<div class="highlight"><pre><span></span><code>[/modules]
PythonScript = enabled

[/settings/python/scripts]
my_script = my_script.py
</code></pre></div>
<h2 id="functions">Functions</h2>
<p>The skeleton of a script is the following three functions:</p>
<ul>
<li>__main__</li>
<li>init</li>
<li>shutdown</li>
</ul>
<h3 id="__main__">__main__</h3>
<p>The mainfunction is used when the script is run from the command line.
For instance when you want to provide an install or helper function to the administrator much like we did when we installed the script:</p>
<div class="highlight"><pre><span></span><code>nscp py execute --script my_script.py install --root /tmp
</code></pre></div>
<p>The main function takes as input argument a list of command line options:</p>
<div class="highlight"><pre><span></span><code>from NSCP import log
def __main__(args):
    log(&quot;My arguments are: %s&quot;%args)
</code></pre></div>
<p>Running this script:</p>
<div class="highlight"><pre><span></span><code>nscp py execute --script my_script.py install --root /tmp
L     python My arguments are: [&#39;install&#39;, &#39;--root&#39;, &#39;/tmp&#39;]
</code></pre></div>
<h3 id="init">init</h3>
<p>The init function called when the script is loaded and provides important variables for talking to NSClient++.
The function takes tree arguments:</p>
<ul>
<li>plugin_id</li>
<li>plugin_alias</li>
<li>script_alias</li>
</ul>
<p>The plugin id is an internal id of the plugin instance which is used in many API calls.
The plugin and script aliases can be used to differentiate between which instance is loaded.
The idea is that you can load a script multiple times in multiple modules and they should then have seprate config.</p>
<div class="highlight"><pre><span></span><code>from NSCP import log
def init(plugin_id, plugin_alias, script_alias):
    log(&quot;*** plugin_id: %d, plugin_alias: %s, script_alias: %s&quot;%(plugin_id, plugin_alias, script_alias))
</code></pre></div>
<p>The result of running this script from NSClient++:
<div class="highlight"><pre><span></span><code>...
D     python boot python
D     python Prepare python
D     python init python
D     python Adding script: osmc (c:\source\build\x64\dev\scripts\python\osmc.py)
D     python Loading python script: c:\source\build\x64\dev\scripts\python\osmc.py
D     python Lib path: c:\source\build\x64\dev\scripts\python\lib
L     python *** plugin_id: 0, plugin_alias: python, script_alias: my_script
...
</code></pre></div></p>
<h3 id="plugin_alias-versus-script_alias">plugin_alias versus script_alias</h3>
<p>Consider the following example:</p>
<div class="highlight"><pre><span></span><code>[/modules]
ps1 = PythonScript
ps2 = PythonScript

[/settings/ps1/scripts]
ms1 = my_script.py
ms2 = my_script.py

[/settings/ps2/scripts]
ms1 = my_script.py
ms2 = my_script.py
</code></pre></div>
<p>This will load the same script four times with the following arguments:</p>
<table>
<thead>
<tr>
<th>plugin_id</th>
<th>plugin_alias</th>
<th>script_alias</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ps1</td>
<td>ms1</td>
</tr>
<tr>
<td>1</td>
<td>ps1</td>
<td>ms2</td>
</tr>
<tr>
<td>2</td>
<td>ps2</td>
<td>ms1</td>
</tr>
<tr>
<td>2</td>
<td>ps2</td>
<td>ms2</td>
</tr>
</tbody>
</table>
<p>Thus when loading configuration it is recommended to place it under the following pseudo key <code>/settings/:script_name/:plugin_alias/:script_alias/</code> to allow for users loading a script multiple times.</p>
<p>At the same time it is discouraged from using the alias concept to load a script multiple times which is why the command line interfaces does not provide commands for doing so.
But in complicated scenarios it can be very useful but it causes a lot of complexity.</p>
<h3 id="shutdown">shutdown</h3>
<p>The shutdown function is called whenever NSClient++ is shutting down or the PythonScript module is unloaded.
The function takes no arguments.</p>
<div class="highlight"><pre><span></span><code>from NSCP import log
def shutdown(args):
    log(&quot;Good bye&quot;)
</code></pre></div>
<h2 id="api">API</h2>
<p>NSClient++ provides a rich API where you can do just about anything that can be done with NSClient++.
This includes loading modules, accessing settings, providing command line interfaces etc etc.
While most of it has a simple wrappers which you can use directly some things might require you to use the underlying protobuf Api.</p>
<p>The API is split three modules.
 - Settings
 - Registry
 - Core</p>
<p>There is also an enum: <code>status</code> as well as a some direct functions:
 - log
 - log_error
 - log_debug
 - sleep</p>
<h3 id="functions_1">Functions</h3>
<h4 id="log">log</h4>
<p><code>log(message)</code></p>
<p>Used to send log messages to NSClient++.
These log messages will be visible on the command line as well as the any configure log file.
The log message will be logged on the <code>info</code> level.</p>
<div class="highlight"><pre><span></span><code>from NSCP import log

log(&quot;This is a log message&quot;)
</code></pre></div>
<h4 id="log_error">log_error</h4>
<p><code>log_error(message)</code></p>
<p>Used to send log messages to NSClient++.
These log messages will be visible on the command line as well as the any configure log file.
The log message will be logged on the <code>error</code> level.</p>
<div class="highlight"><pre><span></span><code>from NSCP import log_error

log_error(&quot;This is an error message&quot;)
</code></pre></div>
<h4 id="log_debug">log_debug</h4>
<p><code>log_debug(message)</code></p>
<p>Used to send log messages to NSClient++.
These log messages will be visible on the command line as well as the any configure log file.
The log message will be logged on the <code>debug</code> level.</p>
<div class="highlight"><pre><span></span><code>from NSCP import log_debug

log_debug(&quot;This is a debug message&quot;)
</code></pre></div>
<h4 id="sleep">sleep</h4>
<p><code>sleep(milli_seconds)</code></p>
<p>Used to sleep for a given number of milliseconds.
The reason this function exists is that python is inherently single threaded and whenever you are executing python code your are essentially locking any other code from executing in python. This means that sleeping or delaying inside python will prevent any other script to run. Thus if you need to wait please use this function as it will wait outside the locks and allow other script to run.</p>
<div class="highlight"><pre><span></span><code>from NSCP import sleep, log_debug

log_debug(&quot;Waiting for 1 second&quot;)
sleep(1000)
log_debug(&quot;It is now one second later&quot;)
</code></pre></div>
<h3 id="registry">Registry</h3>
<h4 id="get">get</h4>
<p>Create an instance of the registry object.</p>
<h4 id="registryfunction">Registry.function</h4>
<p><code>Registry.simple_function(query_name, query_function, description)</code></p>
<p>Bind a function to a check query. This is similar to the <code>Registry.simple_function</code> function but the bound
function uses a more powerful syntax which requires you to parse the request/response using the protobuf API.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>query_name</td>
<td>The name of the query (i.e. the check command name)</td>
</tr>
<tr>
<td>query_function</td>
<td>The function to call when the query is executed</td>
</tr>
<tr>
<td>description</td>
<td>The description of the query.</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(request):
  # ...
  return response_message.SerializeToString()
</code></pre></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import log, Registry, status
import plugin_pb2

def my_function(request):
  request_message = plugin_pb2.QueryRequestMessage()
  request_message.ParseFromString(request)
  log(&#39;Got command: %s&#39;%request_message.payload[0].command)
  response_message = plugin_pb2.QueryResponseMessage()
  return response_message.SerializeToString()

def init(plugin_id, plugin_alias, script_alias):
  reg = Registry.get(plugin_id)
  reg.function(&#39;check_py_test&#39;, my_function, &#39;This is a sample python function&#39;)
</code></pre></div>
<h4 id="registrysimple_function">Registry.simple_function</h4>
<p><code>Registry.simple_function(query_name, query_function, description)</code></p>
<p>Bind a function to a check query. This is similar to the <code>Registry.function</code> function but the bound
function has a simpler syntax so you wont have to deal with the complexity of the protobuf API.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>query_name</td>
<td>The name of the query (i.e. the check command name)</td>
</tr>
<tr>
<td>query_function</td>
<td>The function to call when the query is executed</td>
</tr>
<tr>
<td>description</td>
<td>The description of th query.</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(args):
  return (status.OK, &quot;This is the message&quot;, &quot;&#39;count&#39;=123;200;600&quot;)
</code></pre></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import log, Registry, status

def my_function(args):
  log(&#39;Got arguments: %s&#39;%args)
  return (status.OK, &quot;This is the message&quot;, &quot;&#39;count&#39;=123;200;600&quot;)

def init(plugin_id, plugin_alias, script_alias):
  reg = Registry.get(plugin_id)
  reg.simple_function(&#39;check_py_test&#39;, my_function, &#39;This is a sample python function&#39;)
</code></pre></div>
<h4 id="registrycmdline">Registry.cmdline</h4>
<p><code>Registry.cmdline(command_name, function)</code></p>
<p>Bind a function to a check query. This is similar to the <code>Registry.simple_cmdline</code> function but the bound
function uses a more powerful syntax which requires you to parse the request/response using the protobuf API.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>command_name</td>
<td>The name of the command to expose</td>
</tr>
<tr>
<td>function</td>
<td>The function to call when the command is executed</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(request):
  # ...
  return response_message.SerializeToString()
</code></pre></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import log, Registry, status
import plugin_pb2

def my_function(request):
  request_message = plugin_pb2.ExecuteRequestMessage()
  request_message.ParseFromString(request)
  log(&#39;Got command: %s&#39;%request_message.payload[0].command)
  response_message = plugin_pb2.ExecuteResponseMessage()
  return response_message.SerializeToString()

def init(plugin_id, plugin_alias, script_alias):
  reg = Registry.get(plugin_id)
  reg.cmdline(&#39;do_foo&#39;, my_function)
</code></pre></div>
<h4 id="registrysimple_cmdline">Registry.simple_cmdline</h4>
<p><code>Registry.simple_cmdline(command_name, function)</code></p>
<p>Bind a function to a check query. This is similar to the <code>Registry.function</code> function but the bound
function has a simpler syntax so you wont have to deal with the complexity of the protobuf API.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>command_name</td>
<td>The name of the command to expose</td>
</tr>
<tr>
<td>function</td>
<td>The function to call when the command is executed</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(args):
  return (0, &quot;This is the message&quot;)
</code></pre></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import log, Registry, status

def my_function(args):
  log(&#39;Got arguments: %s&#39;%args)
  return (1, &quot;Everything is awesome&quot;)

def init(plugin_id, plugin_alias, script_alias):
  reg = Registry.get(plugin_id)
  reg.simple_cmdline(&#39;do_something&#39;, my_function)
</code></pre></div>
<h4 id="registrysubscription">Registry.subscription</h4>
<p><code>Registry.subscription(channel, function)</code></p>
<p>Bind a function to a notification (think passive checks results). This is similar to the <code>Registry.simple_subscription</code> function but the bound
function has a more powerful syntax with protobuf messages.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td>The channel name to subscribe to</td>
</tr>
<tr>
<td>function</td>
<td>The function to call when the command is executed</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(channel, message):
  return True
</code></pre></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Registry, Core, log_error
import plugin_pb2

def on_message(channel, message):
  message = plugin_pb2.SubmitRequestMessage()
  message.ParseFromString(request)
  if len(message.payload) != 1:
    log_error(&quot;Got invalid message on channel: %s&quot;%channel)
    return False

def init(plugin_id, plugin_alias, script_alias):
  reg = Registry.get(plugin_id)
  reg.subscription(&#39;test-channel&#39;, on_message)
</code></pre></div>
<h4 id="registrysimple_subscription">Registry.simple_subscription</h4>
<p><code>Registry.simple_subscription(channel, function)</code></p>
<p>Bind a function to a notification (think passive checks results). This is similar to the <code>Registry.subscription</code> function but the bound
function has a simpler syntax so you wont have to deal with the complexity of the protobuf API.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td>The channel name to subscribe to</td>
</tr>
<tr>
<td>function</td>
<td>The function to call when the command is executed</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(channel, source, command, status, message, perf):
  return True
</code></pre></div>
<p><strong>Example:</strong> Filter out repeated NSCA events</p>
<div class="highlight"><pre><span></span><code>from NSCP import Registry, Core, status, log

g_last_message = &#39;&#39;
g_plugin_id = 0

def filter_nsca(channel, source, command, status, message, perf):
  global g_last_message, g_plugin_id
  if not message == g_last_message:
    g_last_message = message
    log(&quot;Sending: %s&quot;%message)
    core = Core.get(g_plugin_id)
    core.simple_submit(&#39;NSCA&#39;, command, status.CRITICAL, message.encode(&#39;utf-8&#39;), perf)
  else:
    log(&quot;Supressing duplicate message&quot;)

def init(plugin_id, plugin_alias, script_alias):
  global g_plugin_id
  g_plugin_id = plugin_id
  reg = Registry.get(plugin_id)
  reg.simple_subscription(&#39;filter_nsca&#39;, filter_nsca)
</code></pre></div>
<p>To use the above specify <code>filter_nsca</code> as your target instead of NSCA like so:</p>
<div class="highlight"><pre><span></span><code>[/modules]
PythonScript=enabled
CheckEventLog=enabled
NSCAClient=enabled

[/settings/python/scripts]
filter_nsca=filter_nsca.py

[/settings/eventlog/real-time]
enabled = true

[/settings/eventlog/real-time/filters/login]
log=Security
filter=id=4624
target=filter_nsca
detail syntax=%(id)
</code></pre></div>
<h4 id="registrysubmit_metrics">Registry.submit_metrics</h4>
<h4 id="registryfetch_metrics">Registry.fetch_metrics</h4>
<h4 id="registryevent_pb">Registry.event_pb</h4>
<h4 id="registryevent">Registry.event</h4>
<p><code>Registry.event(event_name, event_function)</code></p>
<p>Register a function which listens for a given event.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_name</td>
<td>The name of the event to subscribe to.</td>
</tr>
<tr>
<td>event_function</td>
<td>The function to call when the event fires</td>
</tr>
</tbody>
</table>
<p>The bound function should look like this:</p>
<div class="highlight"><pre><span></span><code>def my_function(event_name, data):
  log(&quot;This is from the data: %s&quot;%data[&#39;key&#39;])
</code></pre></div>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import log, Registry

def on_event(event, data):
  log(&#39;Got event: %s&#39;%event)

  def init(plugin_id, plugin_alias, script_alias):
      reg = Registry.get(plugin_id)
      reg.event(&#39;eventlog:login&#39;, on_event)
</code></pre></div>
<h4 id="registryquery">Registry.query</h4>
<h3 id="core">Core</h3>
<p>The core is a representation of NSClient++ and exposes functions to interact with NSClient++ it self such as running queries or reloading modules.</p>
<h4 id="coreget">Core.get</h4>
<p><code>Core.get()</code></p>
<p>Get an instance of the core module.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Core
core = Core.get()
(code, message, perf) = core.simpler_query(&quot;check_cpu&quot;)
</code></pre></div>
<h4 id="coresimple_query">Core.simple_query</h4>
<p><code>(status, message, perf) = Core.simple_query(query, arguments)</code></p>
<p>Execute a check query.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>query</td>
<td>The name of the query to execute</td>
</tr>
<tr>
<td>arguments</td>
<td>Arguments for the query</td>
</tr>
<tr>
<td>status</td>
<td>The nagios status code of the result</td>
</tr>
<tr>
<td>message</td>
<td>The resulting message</td>
</tr>
<tr>
<td>perf</td>
<td>The resulting performance data</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Core, log

core = Core.get()
(code, message, perf) = core.simpler_query(&quot;check_cpu&quot;)
log(message)
</code></pre></div>
<h4 id="corequery">Core.query</h4>
<p><code>reply = Core.simple_query(request)</code></p>
<p>Execute a check query.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>request</td>
<td>A probuf QueryRequestMessage</td>
</tr>
<tr>
<td>reply</td>
<td>A protobuf QueryResponseMessage</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Core, log
import plugin_pb2

request_message = plugin_pb2.QueryRequestMessage()
core = Core.get()
response = core.query(request_message.SerializeToString())
response_message = plugin_pb2.QueryResponseMessage()
response_message.ParseFromString(response)

log(&#39;Got command: %s&#39;%request_message.payload[0].command)
</code></pre></div>
<h4 id="coresimple_exec">Core.simple_exec</h4>
<h4 id="coreexec">Core.exec</h4>
<h4 id="coresimple_submit">Core.simple_submit</h4>
<h4 id="coresubmit">Core.submit</h4>
<h4 id="corereload">Core.reload</h4>
<h4 id="coreload_module">Core.load_module</h4>
<p><code>Core.load_module(module, alias)</code></p>
<p>Load a module into NSClient++.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>module</td>
<td>The name of the module to load</td>
</tr>
<tr>
<td>alias</td>
<td>A alias (if loading a module twice)</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Core, log

def init(plugin_id, plugin_alias, script_alias):
  core = Core.get(plugin_id)
  core.load(&quot;CheckEventLog&quot;, &quot;&quot;)
</code></pre></div>
<h4 id="coreunload_module">Core.unload_module</h4>
<p><code>Core.load_module(module_or_alias)</code></p>
<p>Unload a module from NSClient++.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>module_or_alias</td>
<td>The name or the alias of the module to unload</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Core, log

def init(plugin_id, plugin_alias, script_alias):
  core = Core.get(plugin_id)
  core.unload(&quot;CheckEventLog&quot;, &quot;&quot;)
</code></pre></div>
<h4 id="coreexpand_path">Core.expand_path</h4>
<p><code>path = Core.expand_path(path_expression)</code></p>
<p>Parse a path expression into a path.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path_expression</td>
<td>A path expression which can contain ${..} keywords such as ${modules}.</td>
</tr>
<tr>
<td>path</td>
<td>The resulting path</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Core, log

def init(plugin_id, plugin_alias, script_alias):
  core = Core.get(plugin_id)
  path = core.expand_path(&quot;${scripts}/python/myscript.py&quot;)
  log(&#39;The script path is: %s&#39;%path)
</code></pre></div>
<h3 id="settings">Settings</h3>
<p>The <code>Settings</code> object wraps the Settings API which allows you to access and modify the NSClient++ configuration file.</p>
<h4 id="settingsget">Settings.get</h4>
<p><code>Settings.get(plugin_id)</code></p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>plugin_id</td>
<td>The plugin id as supplied at module ini (i.e. the init function).</td>
</tr>
</tbody>
</table>
<p>Get an instance of the settings module.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  (code, message, perf) = config.get_string(&quot;/modules&quot;, &quot;PythonScript&quot;, &quot;disabled&quot;)
</code></pre></div>
<h4 id="settingsget_section">Settings.get_section</h4>
<p><code>keys = Settings.get_section(path)</code></p>
<p>Fetch all keys under a given section in the settings file.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>keys</td>
<td>A list of keys under a the section</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  for key in config.get_section(&quot;/modules&quot;):
    log(&quot;Module: %s&quot;%key)
</code></pre></div>
<h4 id="settingsget_string">Settings.get_string</h4>
<p><code>value = Settings.get_string(path, key, default_value)</code></p>
<p>Fetch a string from the settings store given a path and a key.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>key</td>
<td>The key to lookup</td>
</tr>
<tr>
<td>default_value</td>
<td>The value to return if the key is not found.</td>
</tr>
<tr>
<td>value</td>
<td>The resulting value.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  for key in config.get_section(&quot;/modules&quot;):
    value = config.get_string(&quot;/modules&quot;, key, &quot;unknown&quot;)
    log(&quot;THe module %s is %s&quot;%(key, value))
</code></pre></div>
<h4 id="settingsset_string">Settings.set_string</h4>
<p><code>Settings.set_string(path, key, value)</code></p>
<p>Set a string in the settings store given a path and a key.</p>
<p><strong>please note</strong> changing the settings will not save so unless you call <code>Settings.save()</code> afterwards the settings will never be written to your settings file.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>key</td>
<td>The key to lookup</td>
</tr>
<tr>
<td>value</td>
<td>The value to set.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  config.get_string(&quot;/modules&quot;, &quot;PythonScript&quot;, &quot;enabled&quot;)
</code></pre></div>
<h4 id="settingsget_bool">Settings.get_bool</h4>
<p><code>value = Settings.get_string(path, key, default_value)</code></p>
<p>Fetch a boolean from the settings store given a path and a key.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>key</td>
<td>The key to lookup</td>
</tr>
<tr>
<td>default_value</td>
<td>The value to return if the key is not found.</td>
</tr>
<tr>
<td>value</td>
<td>The resulting value.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  for key in config.get_section(&quot;/modules&quot;):
    value = config.get_string(&quot;/modules&quot;, key, False)
    log(&quot;THe module %s is %s&quot;%(key, value))
</code></pre></div>
<h4 id="settingsset_bool">Settings.set_bool</h4>
<p><code>Settings.set_bool(path, key, value)</code></p>
<p>Set a boolean in the settings store given a path and a key.</p>
<p><strong>please note</strong> changing the settings will not save so unless you call <code>Settings.save()</code> afterwards the settings will never be written to your settings file.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>key</td>
<td>The key to lookup</td>
</tr>
<tr>
<td>value</td>
<td>The value to set.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong> Enable a module</p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  config.set_bool(&quot;/modules&quot;, &quot;PythonScript&quot;, True)
</code></pre></div>
<h4 id="settingsget_int">Settings.get_int</h4>
<p><code>value = Settings.get_int(path, key, default_value)</code></p>
<p>Fetch a number from the settings store given a path and a key.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>key</td>
<td>The key to lookup</td>
</tr>
<tr>
<td>default_value</td>
<td>The value to return if the key is not found.</td>
</tr>
<tr>
<td>value</td>
<td>The resulting value.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong> Get the NRPE port</p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  port = config.get_int(&quot;/settings/NRPE/server&quot;, &quot;port&quot;, -1)
  log(&quot;NRPE port is: %d&quot;%port)
</code></pre></div>
<h4 id="settingsset_int">Settings.set_int</h4>
<p><code>Settings.set_int(path, key, value)</code></p>
<p>Set a boolean in the settings store given a path and a key.</p>
<p><strong>please note</strong> changing the settings will not save so unless you call <code>Settings.save()</code> afterwards the settings will never be written to your settings file.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>The settings path to query all keys for</td>
</tr>
<tr>
<td>key</td>
<td>The key to lookup</td>
</tr>
<tr>
<td>value</td>
<td>The value to set.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong> Change the NRPE port.</p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  config.set_int(&quot;/settings/NRPE/server&quot;, &quot;port&quot;, 1234)
</code></pre></div>
<h4 id="settingssave">Settings.save</h4>
<p><code>Settings.save()</code></p>
<p>Save the settings file to disk (or registry depending on where it is stored).</p>
<p><strong>Example:</strong> Save changed settings</p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)
  config.set_int(&quot;/settings/NRPE/server&quot;, &quot;port&quot;, 1234)
  config.save()
</code></pre></div>
<h4 id="settingsregister_path">Settings.register_path</h4>
<p>Used to register a path with the settings handler.
The idea with registering keys is that this provides documentation inside the settings file and the WEB UI.</p>
<h4 id="settingsregister_key">Settings.register_key</h4>
<p>Used to register a key with the settings handler.
The idea with registering keys is that this provides documentation inside the settings file and the WEB UI.</p>
<h4 id="settingsquery">Settings.query</h4>
<p><code>Settings.query()</code></p>
<p>Invoke the RAW settings API with a protobuf message.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code>from NSCP import Settings, log
import plugin_pb2

def init(plugin_id, plugin_alias, script_alias):
  config = Settings.get(plugin_id)

  request_message = plugin_pb2.SettingsRequestMessage()
  response = config.query(request_message.SerializeToString())
  response_message = plugin_pb2.SettingsResponseMessage()
  response_message.ParseFromString(response)
</code></pre></div>
<h3 id="status">status</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UNKNOWN</td>
<td>3</td>
<td>Unknown nagios status code</td>
</tr>
<tr>
<td>CRITICAL</td>
<td>2</td>
<td>Critical nagios status code</td>
</tr>
<tr>
<td>WARNING</td>
<td>1</td>
<td>Warning nagios status code</td>
</tr>
<tr>
<td>OK</td>
<td>0</td>
<td>Ok nagios status code</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "toc.follow", "toc.integrate", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>